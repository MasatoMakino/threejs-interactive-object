<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@masatomakino/threejs-interactive-object</title><meta name="description" content="Documentation for @masatomakino/threejs-interactive-object"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@masatomakino/threejs-interactive-object</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@masatomakino/threejs-interactive-object</h1></div><div class="tsd-panel tsd-typography"><h1 id="threejs-interactive-object" class="tsd-anchor-link">threejs-interactive-object<a href="#threejs-interactive-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Pointer interactive objects for three.js</p>
<p><a href="LICENSE"><img src="http://img.shields.io/badge/license-MIT-blue.svg?style=flat" alt="MIT License"></a>
<a href="https://github.com/MasatoMakino/threejs-interactive-object/actions/workflows/ci.yml"><img src="https://github.com/MasatoMakino/threejs-interactive-object/actions/workflows/ci.yml/badge.svg" alt="CI"></a></p>
<p><a href="https://github.com/MasatoMakino/threejs-interactive-object"><img src="https://github-readme-stats.vercel.app/api/pin/?username=MasatoMakino&amp;repo=threejs-interactive-object" alt="ReadMe Card"></a></p>
<h2 id="overview" class="tsd-anchor-link">Overview<a href="#overview" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This library provides interactive objects for Three.js applications, removing the need for manual Raycaster implementation. Three.js focuses on 3D rendering and leaves interactive object implementation to developers. To create interactive objects, developers typically need to control Raycaster directly to identify pointer events and match them with display objects.</p>
<p>This module enables the creation of interactive objects by simply specifying an Object3D and a material set that corresponds to pointer events. The library handles Raycaster control, event management, and state transitions automatically.</p>
<h2 id="features" class="tsd-anchor-link">Features<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="interactive-object-types" class="tsd-anchor-link">Interactive Object Types<a href="#interactive-object-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>ClickableMesh</code> / <code>ClickableSprite</code> - Simple button functionality responding to taps and clicks</li>
<li><code>CheckBoxMesh</code> / <code>CheckBoxSprite</code> - Toggle objects with individual selection states</li>
<li><code>RadioButtonMesh</code> / <code>RadioButtonSprite</code> - Mutually exclusive selection within groups</li>
<li><code>ClickableGroup</code> - Container class for monitoring child object interactions</li>
</ul>
<h3 id="state-based-material-management" class="tsd-anchor-link">State-based Material Management<a href="#state-based-material-management" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>StateMaterialSet</code> provides comprehensive material management for interactive states:</p>
<ul>
<li><strong>Seven interaction states</strong>: normal, over, down, disable, normalSelect, overSelect, downSelect</li>
<li><strong>Automatic state switching</strong>: Materials change automatically based on pointer interactions</li>
<li><strong>Fallback support</strong>: Unspecified states automatically use normal material</li>
<li><strong>Unified opacity control</strong>: Global opacity adjustment across all state materials</li>
<li><strong>Multi-material support</strong>: Handles both single materials and material arrays</li>
</ul>
<h3 id="performance-optimization" class="tsd-anchor-link">Performance Optimization<a href="#performance-optimization" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The library offers two search modes for performance optimization:</p>
<ul>
<li><strong>Auto-detection mode</strong>: Searches all Object3D instances in the scene (easier management)</li>
<li><strong>Registration mode</strong>: Searches only user-registered objects (optimized performance for fixed UI elements)</li>
</ul>
<h3 id="cross-platform-support" class="tsd-anchor-link">Cross-platform Support<a href="#cross-platform-support" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li>Works on any platform where Three.js operates</li>
<li>Supports desktop browsers and mobile touch devices</li>
<li>Single-touch interaction support (multi-touch and gestures are currently not supported)</li>
</ul>
<h2 id="demo" class="tsd-anchor-link">Demo<a href="#demo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p><a href="https://masatomakino.github.io/threejs-interactive-object/demo/">Demo Page</a></p>
<h2 id="getting-started" class="tsd-anchor-link">Getting Started<a href="#getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@masatomakino/threejs-interactive-object</span><span class="hl-1"> </span><span class="hl-3">--save-dev</span>
</code><button type="button">Copy</button></pre>

<h3 id="import" class="tsd-anchor-link">Import<a href="#import" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>threejs-interactive-object is composed of ES6 modules and TypeScript d.ts files.</p>
<p>At first, import classes.</p>
<pre><code class="js"><span class="hl-4">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">ClickableMesh</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">StateMaterialSet</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">StateMaterial</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">MouseEventManager</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ThreeMouseEvent</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-5">ThreeMouseEventType</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@masatomakino/threejs-interactive-object&quot;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<h3 id="create-buttons" class="tsd-anchor-link">Create buttons<a href="#create-buttons" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><a href="https://masatomakino.github.io/threejs-interactive-object/api/">API documents</a></p>
<h4 id="init-mouseeventmanager" class="tsd-anchor-link">init MouseEventManager<a href="#init-mouseeventmanager" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>MouseEventManager class watch MouseEvent on canvas element.</p>
<p>initialize MouseEventManager before create a button.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">manager</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">MouseEventManager</span><span class="hl-1">(</span><span class="hl-5">scene</span><span class="hl-1">, </span><span class="hl-5">camera</span><span class="hl-1">, </span><span class="hl-5">renderer</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="init-button" class="tsd-anchor-link">Init button<a href="#init-button" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Create buttons and add to scene.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">clickable</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">ClickableMesh</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-5">geo:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BoxBufferGeometry</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-5">material:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">StateMaterialSet</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-5">normal:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">MeshBasicMaterial</span><span class="hl-1">({</span><br/><span class="hl-1">      </span><span class="hl-5">color:</span><span class="hl-1"> </span><span class="hl-7">0xffffff</span><span class="hl-1">,</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">});</span><br/><span class="hl-5">scene</span><span class="hl-1">.</span><span class="hl-0">add</span><span class="hl-1">(</span><span class="hl-5">clickable</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Add event listener.</p>
<pre><code class="js"><span class="hl-5">clickable</span><span class="hl-1">.</span><span class="hl-5">model</span><span class="hl-1">.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&quot;click&quot;</span><span class="hl-1">, (</span><span class="hl-5">e</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;CLICKED!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="convert-mesh-to-interactive" class="tsd-anchor-link">Convert Mesh to Interactive<a href="#convert-mesh-to-interactive" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The <code>MouseEventManager</code> identifies an Object3D instance with a member named <code>interactionHandler</code> as interactive. If you want to convert your loaded model to be interactive, you can use the <code>convertToClickableMesh</code>, <code>convertToCheckboxMesh</code>, <code>convertToRadioButtonMesh</code> function.</p>
<pre><code class="js"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-6">interactiveMesh</span><span class="hl-1"> = </span><span class="hl-0">convertToClickableMesh</span><span class="hl-1">(</span><span class="hl-5">mesh</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="requirements" class="tsd-anchor-link">Requirements<a href="#requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Three.js (&gt;= 0.126.0)</li>
<li>WebGL-capable browser</li>
<li>For TypeScript projects: ES2022 or later</li>
</ul>
<h2 id="limitations" class="tsd-anchor-link">Limitations<a href="#limitations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This module is designed for Object3D-level control with material-based state management. The following features are outside the scope of this library:</p>
<ul>
<li>Pointing to individual parts of merged geometries</li>
<li>Dynamic material value control in response to pointer events</li>
<li>Shader material state management</li>
</ul>
<h2 id="uninstall" class="tsd-anchor-link">Uninstall<a href="#uninstall" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">uninstall</span><span class="hl-1"> </span><span class="hl-2">@masatomakino/threejs-interactive-object</span><span class="hl-1"> </span><span class="hl-3">--save-dev</span>
</code><button type="button">Copy</button></pre>

<h2 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>threejs-interactive-object is <a href="media/LICENSE">MIT licensed</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#threejs-interactive-object"><span>threejs-<wbr/>interactive-<wbr/>object</span></a><ul><li><a href="#overview"><span>Overview</span></a></li><li><a href="#features"><span>Features</span></a></li><li><ul><li><a href="#interactive-object-types"><span>Interactive <wbr/>Object <wbr/>Types</span></a></li><li><a href="#state-based-material-management"><span>State-<wbr/>based <wbr/>Material <wbr/>Management</span></a></li><li><a href="#performance-optimization"><span>Performance <wbr/>Optimization</span></a></li><li><a href="#cross-platform-support"><span>Cross-<wbr/>platform <wbr/>Support</span></a></li></ul></li><li><a href="#demo"><span>Demo</span></a></li><li><a href="#getting-started"><span>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#install"><span>Install</span></a></li><li><a href="#import"><span>Import</span></a></li><li><a href="#create-buttons"><span>Create buttons</span></a></li><li><ul><li><a href="#init-mouseeventmanager"><span>init <wbr/>Mouse<wbr/>Event<wbr/>Manager</span></a></li><li><a href="#init-button"><span>Init button</span></a></li><li><a href="#convert-mesh-to-interactive"><span>Convert <wbr/>Mesh to <wbr/>Interactive</span></a></li></ul></li></ul></li><li><a href="#requirements"><span>Requirements</span></a></li><li><a href="#limitations"><span>Limitations</span></a></li><li><a href="#uninstall"><span>Uninstall</span></a></li><li><a href="#license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@masatomakino/threejs-interactive-object</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
